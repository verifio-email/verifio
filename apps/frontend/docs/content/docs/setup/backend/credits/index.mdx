---
title: Credits Service
description: Credit balances and usage tracking.
---

import { Callout } from 'fumadocs-ui/components/callout'

# Credits Service

Manages credit balances, deductions, and usage history.

## Overview

| Property | Value |
|----------|-------|
| **Location** | `apps/backend/credits` |
| **Framework** | ElysiaJS |
| **Port** | 8030 |
| **API Route** | `/api/credits/*` |

## Starting the Service

```sh
bun run be:credits:dev
```

## Features

- **Balance tracking** - Real-time credit balance per organization
- **Credit deduction** - Atomic deduction on verification
- **Usage history** - Track credit consumption over time
- **Low balance alerts** - Notify when credits are running low
- **Credit purchases** - Add credits from purchases

## Credit Flow

```
Verification Request
        ↓
Check Balance → Insufficient → Reject
        ↓ (Sufficient)
Reserve Credits
        ↓
Perform Verification
        ↓
Commit Deduction → Log Usage
```

## Environment Variables

```sh
PORT=8030
PG_URL=postgresql://verifio:verifio123@localhost:5432/verifio
```

## Database Tables

- `credits` - Organization credit balances
- `credit_history` - Transaction history

## Related Services

- **Verify** - Calls credits service before verification
- **Workflow** - Checks credits before bulk jobs

<Callout type="info">
  Credits are organization-scoped, not user-scoped.
</Callout>
