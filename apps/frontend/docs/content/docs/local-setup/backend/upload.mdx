---
title: Upload Service
description: File upload and management.
---

# Upload Service

File upload handling for bulk email verification.

## Quick Start

| Property | Value |
|----------|-------|
| **Location** | `apps/backend/upload` |
| **Port** | 8004 |
| **Start Command** | `bun run be:upload:dev` |

## Environment Variables

```bash
PORT=8004
BASE_URL=https://local.verifio.email
PG_URL=postgresql://verifio:verifio123@localhost:5432/verifio
REDIS_URL=redis://:verifio123@localhost:6379
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=text/csv,application/vnd.ms-excel
```

## Main Endpoints

| Route | Method | Description | Auth Required |
|-------|--------|-------------|---------------|
| `/api/upload/v1/upload` | POST | Upload file | Session |
| `/api/upload/v1/:id` | GET | Get file details | Session |
| `/api/upload/v1/:id` | DELETE | Delete file | Session |
| `/api/upload/health` | GET | Health check | No |

## Uploading a File

```bash
curl -X POST https://api.verifio.email/api/upload/v1/upload \
  --cookie-jar cookies.txt --cookie cookies.txt \
  -F "file=@emails.csv"
```

**Response:** `{ "id": "file_id", "name": "emails.csv", "url": "..." }`

## Database Tables

- `upload` - File metadata

## Common Issues

**"File too large":**
- Reduce file size under `MAX_FILE_SIZE` (default 10MB)

**"Invalid file type":**
- Only CSV and Excel files allowed
- Check MIME type

**Upload fails silently:**
- Verify Inngest is running
- Check service logs
