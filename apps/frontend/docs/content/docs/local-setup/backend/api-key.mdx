---
title: API Key Service
description: API key management and validation.
---

# API Key Service

API key CRUD operations with validation, rotation, and rate limiting.

## Quick Start

| Property | Value |
|----------|-------|
| **Location** | `apps/backend/api-key` |
| **Port** | 8002 |
| **Start Command** | `bun run be:api-key:dev` |

## Environment Variables

```bash
PORT=8002
BASE_URL=https://local.verifio.email
PG_URL=postgresql://verifio:verifio123@localhost:5432/verifio
REDIS_URL=redis://:verifio123@localhost:6379
```

## Main Endpoints

| Route | Method | Description | Auth Required |
|-------|--------|-------------|---------------|
| `/api/api-key/v1/verify` | POST | Validate API key | No (public) |
| `/api/api-key/v1` | POST | Create API key | Session |
| `/api/api-key/v1` | GET | List API keys | Session |
| `/api/api-key/v1/:id` | GET | Get key details | Session |
| `/api/api-key/v1/:id` | PUT | Update key | Session |
| `/api/api-key/v1/:id` | DELETE | Delete key | Session |
| `/api/api-key/v1/:id/rotate` | POST | Rotate key | Session |
| `/api/api-key/health` | GET | Health check | No |

## Creating an API Key

```bash
curl -X POST https://api.verifio.email/api/api-key/v1 \
  --cookie-jar cookies.txt --cookie cookies.txt \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Production Key",
    "rateLimit": {
      "window": 86400000,
      "max": 1000
    }
  }'
```

**Response:** `{ "key": "rl_..." }` - Save this, you won't see it again!

## Using an API Key

```bash
curl -H "Authorization: Bearer rl_your_key" \
  https://api.verifio.email/api/verify/v1/verify \
  -d '{"email": "user@example.com"}'
```

## Database Tables

- `apikey` - API keys with rate limiting

## Common Issues

**"Invalid API Key":**
- Verify key is correct (starts with `rl_`)
- Check key is enabled in dashboard
- Verify key hasn't expired

**Rate limiting not working:**
- Check `REDIS_URL` is set
- Verify Redis is running
